(function(){"use strict";var e={2347:function(e,t,a){var n=a(9242),r=a(3396);function l(e,t){const a=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(a)}var o=a(89);const s={},i=(0,o.Z)(s,[["render",l]]);var u=i,c=a(2483);const m=e=>((0,r.dD)("data-v-63424ffe"),e=e(),(0,r.Cn)(),e),d={class:"masterContainer"},p=m((()=>(0,r._)("h2",null,"Registration form",-1))),_=m((()=>(0,r._)("label",{for:"username"},"Username: ",-1))),h=m((()=>(0,r._)("br",null,null,-1))),v=m((()=>(0,r._)("label",{for:"password"},"Password: ",-1))),f=m((()=>(0,r._)("br",null,null,-1))),y=m((()=>(0,r._)("label",{for:"confirm"},"Confirm: ",-1))),b=m((()=>(0,r._)("br",null,null,-1))),g={class:"role"},w=m((()=>(0,r._)("span",null,"Role: ",-1))),S=m((()=>(0,r._)("label",{for:"patient"},"Patient ",-1))),H=m((()=>(0,r._)("label",{for:"hospital"},"Hospital ",-1))),I=m((()=>(0,r._)("label",{for:"cc_nit"},"DNI or RUT: ",-1))),k=m((()=>(0,r._)("br",null,null,-1))),U=m((()=>(0,r._)("label",{for:"email"},"Email: ",-1))),V=m((()=>(0,r._)("br",null,null,-1))),j=m((()=>(0,r._)("label",{for:"tel"},"Tel: ",-1))),x=m((()=>(0,r._)("br",null,null,-1))),C=m((()=>(0,r._)("label",{for:"address"},"Address: ",-1))),O=m((()=>(0,r._)("hr",null,null,-1))),D=m((()=>(0,r._)("br",null,null,-1))),T={key:0,class:"patient_extra"},E=m((()=>(0,r._)("label",{for:"date"},"Birthdate: ",-1))),P=m((()=>(0,r._)("input",{type:"date",name:"date",required:""},null,-1))),q=[E,P],G={key:1,class:"hospital_extra"},N=(0,r.uE)('<span data-v-63424ffe>Services: </span><input type="checkbox" name="services" value="internist" data-v-63424ffe><label for="internist" data-v-63424ffe>Internist </label><input type="checkbox" name="services" value="cardiologist" data-v-63424ffe><label for="cardiologist" data-v-63424ffe>Cardiologist </label><input type="checkbox" name="services" value="optometra" data-v-63424ffe><label for="optometra" data-v-63424ffe>Optometra </label><input type="checkbox" name="services" value="pediatrician" data-v-63424ffe><label for="pediatrician" data-v-63424ffe>Pediatrician </label>',9),F=[N],A=m((()=>(0,r._)("br",null,null,-1))),Z=m((()=>(0,r._)("input",{type:"submit",value:"Send!"},null,-1)));function M(e,t,a,l,o,s){return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("form",{onSubmit:t[9]||(t[9]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[p,_,(0,r.wy)((0,r._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:""},null,512),[[n.nr,o.username]]),h,v,(0,r.wy)((0,r._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[n.nr,o.password]]),f,y,(0,r.wy)((0,r._)("input",{type:"password",name:"confirm","onUpdate:modelValue":t[2]||(t[2]=e=>o.confirm=e),required:""},null,512),[[n.nr,o.confirm]]),b,(0,r._)("div",g,[w,(0,r.wy)((0,r._)("input",{type:"radio",name:"role",value:"patient","onUpdate:modelValue":t[3]||(t[3]=e=>o.role=e),checked:""},null,512),[[n.G2,o.role]]),S,(0,r.wy)((0,r._)("input",{type:"radio",name:"role",value:"hospital","onUpdate:modelValue":t[4]||(t[4]=e=>o.role=e)},null,512),[[n.G2,o.role]]),H]),I,(0,r.wy)((0,r._)("input",{type:"text",name:"cc_rut","onUpdate:modelValue":t[5]||(t[5]=e=>o.cc_rut=e),required:""},null,512),[[n.nr,o.cc_rut]]),k,U,(0,r.wy)((0,r._)("input",{type:"text",name:"email","onUpdate:modelValue":t[6]||(t[6]=e=>o.email=e),required:""},null,512),[[n.nr,o.email]]),V,j,(0,r.wy)((0,r._)("input",{type:"text",name:"tel","onUpdate:modelValue":t[7]||(t[7]=e=>o.tel=e),required:""},null,512),[[n.nr,o.tel]]),x,C,(0,r.wy)((0,r._)("input",{type:"text",name:"address","onUpdate:modelValue":t[8]||(t[8]=e=>o.address=e),required:""},null,512),[[n.nr,o.address]]),O,D,"patient"==o.role?((0,r.wg)(),(0,r.iD)("div",T,q)):((0,r.wg)(),(0,r.iD)("div",G,F)),A,Z],32)])}a(7658);var R={name:"RegisterView",data(){return{username:"my username",password:"my password",confirm:"my password",role:"patient",cc_rut:"123456789",email:"some@example.co",tel:"3111234567",address:"some address"}},methods:{async submit(){const e=this.username,t=this.password,a=this.confirm,n=this.role,r=this.cc_rut,l=this.email,o=this.tel,s=this.address;if(t!=a)return void alert("Passwords don't match...");const i=await fetch("/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,role:n,cc:r,email:l,tel:o,address:s})}),u=i.status,c=await i.json();200==u?(localStorage.setItem("Health_care_role",n),localStorage.setItem("Health_care_session_key",c.session),localStorage.setItem("Health_care_username",e),localStorage.setItem("Health_care_cc_rut",r),this.$router.push({path:"/"})):alert(c.msg)}}};const J=(0,o.Z)(R,[["render",M],["__scopeId","data-v-63424ffe"]]);var W=J;const $={class:"masterContainer"};function z(e,t,a,n,l,o){const s=(0,r.up)("Navbar"),i=(0,r.up)("PatientHome"),u=(0,r.up)("DoctorHome"),c=(0,r.up)("HospitalHome");return(0,r.wg)(),(0,r.iD)("div",$,[(0,r.Wm)(s),"patient"==l.home_role?((0,r.wg)(),(0,r.j4)(i,{key:0})):(0,r.kq)("",!0),"doctor"==l.home_role?((0,r.wg)(),(0,r.j4)(u,{key:1})):(0,r.kq)("",!0),"hospital"==l.home_role?((0,r.wg)(),(0,r.j4)(c,{key:2})):(0,r.kq)("",!0)])}const L={class:"masterContainer"};function Y(e,t,a,n,l,o){const s=(0,r.up)("GetEntriesForm");return(0,r.wg)(),(0,r.iD)("div",L,[(0,r.Wm)(s)])}var B=a(7139);const K={class:"view_section"},Q={class:"entries_list"};function X(e,t,a,l,o,s){return(0,r.wg)(),(0,r.iD)("div",K,[(0,r._)("button",{class:"view_entries",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>s.getEntries&&s.getEntries(...e)),["prevent"]))},"View Entries"),(0,r._)("ul",Q,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.entries,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:t},(0,B.zw)(e),1)))),128))])])}var ee={name:"GetEntriesForm",data(){return{entries:[]}},methods:{async getEntries(){const e=localStorage.getItem("Health_care_role"),t=localStorage.getItem("Health_care_cc_rut"),a=localStorage.getItem("Health_care_session_key"),n=`/getEntries?myrole=${e}&mycc=${t}&mysession=${a}`,r=await fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),l=r.status,o=await r.json();200==l?(console.log(o.entries),this.entries=o.entries):alert(o.msg)}}};const te=(0,o.Z)(ee,[["render",X]]);var ae=te,ne={name:"PatientHome",components:{GetEntriesForm:ae}};const re=(0,o.Z)(ne,[["render",Y],["__scopeId","data-v-eea56022"]]);var le=re;const oe=e=>((0,r.dD)("data-v-20a0ab0a"),e=e(),(0,r.Cn)(),e),se={class:"body"},ie={class:"form_section"},ue=oe((()=>(0,r._)("h3",null,"New Entry Form",-1))),ce=oe((()=>(0,r._)("label",{for:"patient_name"},"Patient Name:",-1))),me=oe((()=>(0,r._)("br",null,null,-1))),de=oe((()=>(0,r._)("br",null,null,-1))),pe=oe((()=>(0,r._)("br",null,null,-1))),_e=oe((()=>(0,r._)("label",{for:"patient_id"},"Patient Id:",-1))),he=oe((()=>(0,r._)("br",null,null,-1))),ve=oe((()=>(0,r._)("br",null,null,-1))),fe=oe((()=>(0,r._)("br",null,null,-1))),ye=oe((()=>(0,r._)("label",{for:"observations"},"Observations:",-1))),be=oe((()=>(0,r._)("br",null,null,-1))),ge=oe((()=>(0,r._)("br",null,null,-1))),we=oe((()=>(0,r._)("br",null,null,-1))),Se=oe((()=>(0,r._)("label",{for:"health_status"},"Healt status:",-1))),He=oe((()=>(0,r._)("br",null,null,-1))),Ie=oe((()=>(0,r._)("br",null,null,-1))),ke=oe((()=>(0,r._)("br",null,null,-1))),Ue=oe((()=>(0,r._)("span",null,"Your speciality will be writed in the report.",-1))),Ve=oe((()=>(0,r._)("br",null,null,-1))),je=oe((()=>(0,r._)("input",{type:"submit",value:"Create"},null,-1)));function xe(e,t,a,l,o,s){const i=(0,r.up)("GetEntriesForm");return(0,r.wg)(),(0,r.iD)("div",se,[(0,r.Wm)(i),(0,r._)("div",ie,[(0,r._)("form",{class:"new_entry",onSubmit:t[4]||(t[4]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[ue,ce,me,(0,r.wy)((0,r._)("input",{type:"text",name:"patient_name","onUpdate:modelValue":t[0]||(t[0]=e=>o.patient_name=e)},null,512),[[n.nr,o.patient_name]]),de,pe,_e,he,(0,r.wy)((0,r._)("input",{type:"text",name:"patient_id","onUpdate:modelValue":t[1]||(t[1]=e=>o.patient_id=e)},null,512),[[n.nr,o.patient_id]]),ve,fe,ye,be,(0,r.wy)((0,r._)("textarea",{name:"observations",cols:"30",rows:"10","onUpdate:modelValue":t[2]||(t[2]=e=>o.observations=e)},null,512),[[n.nr,o.observations]]),ge,we,Se,He,(0,r.wy)((0,r._)("textarea",{name:"health_status",cols:"30",rows:"10","onUpdate:modelValue":t[3]||(t[3]=e=>o.health_status=e)},null,512),[[n.nr,o.health_status]]),Ie,ke,Ue,Ve,je],32)])])}var Ce={name:"DoctorView",components:{GetEntriesForm:ae},data(){return{entries:[],patient_id:"123456789",patient_name:"my username",observations:"this are some observations",health_status:"this is a health status. Can be positive or negative or may have details."}},methods:{async submit(){const e={patient_id:this.patient_id,patient_name:this.patient_name,observations:this.observations,health_status:this.health_status,mycc:localStorage.getItem("Health_care_cc_rut"),myname:localStorage.getItem("Health_care_username"),mysession:localStorage.getItem("Health_care_session_key"),myrole:localStorage.getItem("Health_care_role")},t=await fetch("/newEntry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();alert(a.msg)}}};const Oe=(0,o.Z)(Ce,[["render",xe],["__scopeId","data-v-20a0ab0a"]]);var De=Oe;const Te=e=>((0,r.dD)("data-v-22c5d57a"),e=e(),(0,r.Cn)(),e),Ee={class:"masterContainer"},Pe={class:"new_doctor"},qe=Te((()=>(0,r._)("label",{for:"username"},"Username: ",-1))),Ge=Te((()=>(0,r._)("br",null,null,-1))),Ne=Te((()=>(0,r._)("label",{for:"cc_nit"},"DNI or RUT: ",-1))),Fe=Te((()=>(0,r._)("br",null,null,-1))),Ae=Te((()=>(0,r._)("label",{for:"email"},"Email: ",-1))),Ze=Te((()=>(0,r._)("br",null,null,-1))),Me=Te((()=>(0,r._)("label",{for:"tel"},"Tel: ",-1))),Re=Te((()=>(0,r._)("br",null,null,-1))),Je=Te((()=>(0,r._)("label",{for:"address"},"Address: ",-1))),We=Te((()=>(0,r._)("hr",null,null,-1))),$e=Te((()=>(0,r._)("br",null,null,-1))),ze={class:"doctor_extra"},Le=Te((()=>(0,r._)("span",null,"Specialization: ",-1))),Ye=Te((()=>(0,r._)("label",{for:"internist"},"Internist ",-1))),Be=Te((()=>(0,r._)("label",{for:"cardiologist"},"Cardiologist ",-1))),Ke=Te((()=>(0,r._)("label",{for:"optometra"},"Optometra ",-1))),Qe=Te((()=>(0,r._)("label",{for:"pediatrician"},"Pediatrician ",-1))),Xe=Te((()=>(0,r._)("br",null,null,-1))),et=Te((()=>(0,r._)("input",{type:"submit",value:"Send!"},null,-1))),tt=Te((()=>(0,r._)("br",null,null,-1)));function at(e,t,a,l,o,s){const i=(0,r.up)("GetEntriesForm");return(0,r.wg)(),(0,r.iD)("div",Ee,[(0,r.Wm)(i),(0,r._)("div",Pe,[(0,r._)("form",{onSubmit:t[9]||(t[9]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[qe,(0,r.wy)((0,r._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:""},null,512),[[n.nr,o.username]]),Ge,Ne,(0,r.wy)((0,r._)("input",{type:"text",name:"cc_rut","onUpdate:modelValue":t[1]||(t[1]=e=>o.cc_rut=e),required:""},null,512),[[n.nr,o.cc_rut]]),Fe,Ae,(0,r.wy)((0,r._)("input",{type:"text",name:"email","onUpdate:modelValue":t[2]||(t[2]=e=>o.email=e),required:""},null,512),[[n.nr,o.email]]),Ze,Me,(0,r.wy)((0,r._)("input",{type:"text",name:"tel","onUpdate:modelValue":t[3]||(t[3]=e=>o.tel=e),required:""},null,512),[[n.nr,o.tel]]),Re,Je,(0,r.wy)((0,r._)("input",{type:"text",name:"address","onUpdate:modelValue":t[4]||(t[4]=e=>o.address=e),required:""},null,512),[[n.nr,o.address]]),We,$e,(0,r._)("div",ze,[Le,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"internist","onUpdate:modelValue":t[5]||(t[5]=e=>o.services=e),checked:""},null,512),[[n.G2,o.services]]),Ye,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"cardiologist","onUpdate:modelValue":t[6]||(t[6]=e=>o.services=e)},null,512),[[n.G2,o.services]]),Be,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"optometra","onUpdate:modelValue":t[7]||(t[7]=e=>o.services=e)},null,512),[[n.G2,o.services]]),Ke,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"pediatrician","onUpdate:modelValue":t[8]||(t[8]=e=>o.services=e)},null,512),[[n.G2,o.services]]),Qe]),Xe,et],32),tt,(0,r.wy)((0,r._)("span",null,[(0,r.Uk)("Default password: "),(0,r._)("strong",null,(0,B.zw)(o.password),1)],512),[[n.F8,""!=o.password]])])])}var nt={name:"HospitalHome",components:{GetEntriesForm:ae},data(){return{username:"my doctor",cc_rut:"12365478932",email:"some@example.com",tel:"3114567890",address:"doctor address",services:"internist",password:""}},methods:{async submit(){const e={username:this.username,cc:this.cc_rut,email:this.email,tel:this.tel,address:this.address,speciality:this.services,myname:localStorage.getItem("Health_care_username"),mycc:localStorage.getItem("Health_care_cc_rut"),myrole:localStorage.getItem("Health_care_role"),mysession:localStorage.getItem("Health_care_session_key")},t=await fetch("/newDoctor",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=t.status,n=await t.json();200==a?this.password=n.password:alert(n.msg)}}};const rt=(0,o.Z)(nt,[["render",at],["__scopeId","data-v-22c5d57a"]]);var lt=rt;const ot={class:"navbar"};function st(e,t,a,n,l,o){const s=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("nav",ot,[(0,r.Wm)(s,{class:"to_logout",to:"/login",onClick:o.logout},{default:(0,r.w5)((()=>[(0,r.Uk)("Logout")])),_:1},8,["onClick"]),(0,r.Wm)(s,{class:"to_register",to:"/register",onClick:o.logout},{default:(0,r.w5)((()=>[(0,r.Uk)("Register")])),_:1},8,["onClick"])])}var it={name:"Navbar",methods:{async logout(){const e={mycc:localStorage.getItem("Health_care_cc_rut"),mysession:localStorage.getItem("Health_care_session_key"),myrole:localStorage.getItem("Health_care_role")},t=await fetch("/logout",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=t.status;if(200==a)localStorage.removeItem("Health_care_cc_rut"),localStorage.removeItem("Health_care_session_key"),localStorage.removeItem("Health_care_role"),localStorage.removeItem("Health_care_username");else{const e=await t.json();alert(e.msg)}}}};const ut=(0,o.Z)(it,[["render",st],["__scopeId","data-v-82c28010"]]);var ct=ut,mt={name:"HomeView",components:{PatientHome:le,DoctorHome:De,HospitalHome:lt,Navbar:ct},data(){return{home_role:""}},mounted(){this.home_role=localStorage.getItem("Health_care_role"),console.log(this.home_role)}};const dt=(0,o.Z)(mt,[["render",z]]);var pt=dt;const _t={class:"masterContainer"},ht=(0,r._)("label",{for:"cc_nit"},"DNI or RUT: ",-1),vt=(0,r._)("br",null,null,-1),ft=(0,r._)("label",{for:"password"},"Password: ",-1),yt=(0,r._)("br",null,null,-1),bt=(0,r._)("input",{type:"submit",value:"Send!"},null,-1);function gt(e,t,a,l,o,s){return(0,r.wg)(),(0,r.iD)("div",_t,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[ht,(0,r.wy)((0,r._)("input",{type:"text",name:"cc_rut","onUpdate:modelValue":t[0]||(t[0]=e=>o.cc_rut=e),required:""},null,512),[[n.nr,o.cc_rut]]),vt,ft,(0,r.wy)((0,r._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[n.nr,o.password]]),yt,bt],32)])}var wt={name:"LoginView",data(){return{cc_rut:"12365478932",password:"g1313AiJ6N"}},methods:{async submit(){const e=this.cc_rut,t=this.password,a=await fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({cc:e,password:t})}),n=a.status,r=await a.json();200==n?(localStorage.setItem("Health_care_role",r.role),localStorage.setItem("Health_care_session_key",r.session),localStorage.setItem("Health_care_username",r.username),localStorage.setItem("Health_care_cc_rut",e),this.$router.push({path:"/"})):alert(r.msg)}}};const St=(0,o.Z)(wt,[["render",gt]]);var Ht=St;const It=[{path:"/register",name:"register",component:W},{path:"/",name:"home",component:pt},{path:"/login",name:"login",component:Ht}],kt=(0,c.p7)({history:(0,c.PO)(),routes:It});var Ut=kt,Vt=a(65),jt=(0,Vt.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(u).use(jt).use(Ut).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,l){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],l=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,l,o=n[0],s=n[1],i=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)l=o[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},n=self["webpackChunkapp"]=self["webpackChunkapp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2347)}));n=a.O(n)})();
//# sourceMappingURL=app.c818b1a8.js.map