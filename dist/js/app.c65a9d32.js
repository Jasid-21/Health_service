(function(){"use strict";var e={9391:function(e,t,a){var n=a(9242),r=a(3396);function l(e,t){const a=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(a)}var o=a(89);const s={},i=(0,o.Z)(s,[["render",l]]);var u=i,c=a(2483);const m=e=>((0,r.dD)("data-v-4c739554"),e=e(),(0,r.Cn)(),e),d={class:"masterContainer"},p=m((()=>(0,r._)("label",{for:"username"},"Username: ",-1))),_=m((()=>(0,r._)("br",null,null,-1))),h=m((()=>(0,r._)("label",{for:"password"},"Password: ",-1))),v=m((()=>(0,r._)("br",null,null,-1))),y=m((()=>(0,r._)("label",{for:"confirm"},"Confirm: ",-1))),b=m((()=>(0,r._)("br",null,null,-1))),w={class:"role"},f=m((()=>(0,r._)("span",null,"Role: ",-1))),g=m((()=>(0,r._)("label",{for:"patient"},"Patient ",-1))),S=m((()=>(0,r._)("label",{for:"hospital"},"Hospital ",-1))),H=m((()=>(0,r._)("label",{for:"cc_nit"},"DNI or RUT: ",-1))),I=m((()=>(0,r._)("br",null,null,-1))),k=m((()=>(0,r._)("label",{for:"email"},"Email: ",-1))),U=m((()=>(0,r._)("br",null,null,-1))),V=m((()=>(0,r._)("label",{for:"tel"},"Tel: ",-1))),j=m((()=>(0,r._)("br",null,null,-1))),x=m((()=>(0,r._)("label",{for:"address"},"Address: ",-1))),O=m((()=>(0,r._)("hr",null,null,-1))),C=m((()=>(0,r._)("br",null,null,-1))),D={key:0,class:"patient_extra"},T=m((()=>(0,r._)("label",{for:"date"},"Birthdate: ",-1))),E=m((()=>(0,r._)("input",{type:"date",name:"date",required:""},null,-1))),P=[T,E],q={key:1,class:"hospital_extra"},G=(0,r.uE)('<span data-v-4c739554>Services: </span><input type="checkbox" name="services" value="internist" data-v-4c739554><label for="internist" data-v-4c739554>Internist </label><input type="checkbox" name="services" value="cardiologist" data-v-4c739554><label for="cardiologist" data-v-4c739554>Cardiologist </label><input type="checkbox" name="services" value="optometra" data-v-4c739554><label for="optometra" data-v-4c739554>Optometra </label><input type="checkbox" name="services" value="pediatrician" data-v-4c739554><label for="pediatrician" data-v-4c739554>Pediatrician </label>',9),N=[G],F=m((()=>(0,r._)("br",null,null,-1))),A=m((()=>(0,r._)("input",{type:"submit",value:"Send!"},null,-1)));function Z(e,t,a,l,o,s){return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("form",{onSubmit:t[9]||(t[9]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[p,(0,r.wy)((0,r._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:""},null,512),[[n.nr,o.username]]),_,h,(0,r.wy)((0,r._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[n.nr,o.password]]),v,y,(0,r.wy)((0,r._)("input",{type:"password",name:"confirm","onUpdate:modelValue":t[2]||(t[2]=e=>o.confirm=e),required:""},null,512),[[n.nr,o.confirm]]),b,(0,r._)("div",w,[f,(0,r.wy)((0,r._)("input",{type:"radio",name:"role",value:"patient","onUpdate:modelValue":t[3]||(t[3]=e=>o.role=e),checked:""},null,512),[[n.G2,o.role]]),g,(0,r.wy)((0,r._)("input",{type:"radio",name:"role",value:"hospital","onUpdate:modelValue":t[4]||(t[4]=e=>o.role=e)},null,512),[[n.G2,o.role]]),S]),H,(0,r.wy)((0,r._)("input",{type:"text",name:"cc_rut","onUpdate:modelValue":t[5]||(t[5]=e=>o.cc_rut=e),required:""},null,512),[[n.nr,o.cc_rut]]),I,k,(0,r.wy)((0,r._)("input",{type:"text",name:"email","onUpdate:modelValue":t[6]||(t[6]=e=>o.email=e),required:""},null,512),[[n.nr,o.email]]),U,V,(0,r.wy)((0,r._)("input",{type:"text",name:"tel","onUpdate:modelValue":t[7]||(t[7]=e=>o.tel=e),required:""},null,512),[[n.nr,o.tel]]),j,x,(0,r.wy)((0,r._)("input",{type:"text",name:"address","onUpdate:modelValue":t[8]||(t[8]=e=>o.address=e),required:""},null,512),[[n.nr,o.address]]),O,C,"patient"==o.role?((0,r.wg)(),(0,r.iD)("div",D,P)):((0,r.wg)(),(0,r.iD)("div",q,N)),F,A],32)])}a(7658);var M={name:"RegisterView",data(){return{username:"my username",password:"my password",confirm:"my password",role:"patient",cc_rut:"123456789",email:"some@example.co",tel:"3111234567",address:"some address"}},methods:{async submit(){const e=this.username,t=this.password,a=this.confirm,n=this.role,r=this.cc_rut,l=this.email,o=this.tel,s=this.address;if(t!=a)return void alert("Passwords don't match...");const i=await fetch("/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,role:n,cc:r,email:l,tel:o,address:s})}),u=i.status,c=await i.json();200==u?(localStorage.setItem("Health_care_role",n),localStorage.setItem("Health_care_session_key",c.session),localStorage.setItem("Health_care_username",e),localStorage.setItem("Health_care_cc_rut",r),this.$router.push({path:"/"})):alert(c.msg)}}};const J=(0,o.Z)(M,[["render",Z],["__scopeId","data-v-4c739554"]]);var R=J;const W={class:"masterContainer"};function $(e,t,a,n,l,o){const s=(0,r.up)("Navbar"),i=(0,r.up)("PatientHome"),u=(0,r.up)("DoctorHome"),c=(0,r.up)("HospitalHome");return(0,r.wg)(),(0,r.iD)("div",W,[(0,r.Wm)(s),"patient"==l.home_role?((0,r.wg)(),(0,r.j4)(i,{key:0})):(0,r.kq)("",!0),"doctor"==l.home_role?((0,r.wg)(),(0,r.j4)(u,{key:1})):(0,r.kq)("",!0),"hospital"==l.home_role?((0,r.wg)(),(0,r.j4)(c,{key:2})):(0,r.kq)("",!0)])}const z={class:"masterContainer"};function L(e,t,a,n,l,o){const s=(0,r.up)("GetEntriesForm");return(0,r.wg)(),(0,r.iD)("div",z,[(0,r.Wm)(s)])}var Y=a(7139);const B={class:"view_section"},K={class:"entries_list"};function Q(e,t,a,l,o,s){return(0,r.wg)(),(0,r.iD)("div",B,[(0,r._)("button",{class:"view_entries",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>s.getEntries&&s.getEntries(...e)),["prevent"]))},"View Entries"),(0,r._)("ul",K,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.entries,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:t},(0,Y.zw)(e),1)))),128))])])}var X={name:"GetEntriesForm",data(){return{entries:[]}},methods:{async getEntries(){const e=localStorage.getItem("Health_care_role"),t=localStorage.getItem("Health_care_cc_rut"),a=localStorage.getItem("Health_care_session_key"),n=`/getEntries?myrole=${e}&mycc=${t}&mysession=${a}`,r=await fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),l=r.status,o=await r.json();200==l?(console.log(o.entries),this.entries=o.entries):alert(o.msg)}}};const ee=(0,o.Z)(X,[["render",Q]]);var te=ee,ae={name:"PatientHome",components:{GetEntriesForm:te}};const ne=(0,o.Z)(ae,[["render",L],["__scopeId","data-v-eea56022"]]);var re=ne;const le=e=>((0,r.dD)("data-v-20a0ab0a"),e=e(),(0,r.Cn)(),e),oe={class:"body"},se={class:"form_section"},ie=le((()=>(0,r._)("h3",null,"New Entry Form",-1))),ue=le((()=>(0,r._)("label",{for:"patient_name"},"Patient Name:",-1))),ce=le((()=>(0,r._)("br",null,null,-1))),me=le((()=>(0,r._)("br",null,null,-1))),de=le((()=>(0,r._)("br",null,null,-1))),pe=le((()=>(0,r._)("label",{for:"patient_id"},"Patient Id:",-1))),_e=le((()=>(0,r._)("br",null,null,-1))),he=le((()=>(0,r._)("br",null,null,-1))),ve=le((()=>(0,r._)("br",null,null,-1))),ye=le((()=>(0,r._)("label",{for:"observations"},"Observations:",-1))),be=le((()=>(0,r._)("br",null,null,-1))),we=le((()=>(0,r._)("br",null,null,-1))),fe=le((()=>(0,r._)("br",null,null,-1))),ge=le((()=>(0,r._)("label",{for:"health_status"},"Healt status:",-1))),Se=le((()=>(0,r._)("br",null,null,-1))),He=le((()=>(0,r._)("br",null,null,-1))),Ie=le((()=>(0,r._)("br",null,null,-1))),ke=le((()=>(0,r._)("span",null,"Your speciality will be writed in the report.",-1))),Ue=le((()=>(0,r._)("br",null,null,-1))),Ve=le((()=>(0,r._)("input",{type:"submit",value:"Create"},null,-1)));function je(e,t,a,l,o,s){const i=(0,r.up)("GetEntriesForm");return(0,r.wg)(),(0,r.iD)("div",oe,[(0,r.Wm)(i),(0,r._)("div",se,[(0,r._)("form",{class:"new_entry",onSubmit:t[4]||(t[4]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[ie,ue,ce,(0,r.wy)((0,r._)("input",{type:"text",name:"patient_name","onUpdate:modelValue":t[0]||(t[0]=e=>o.patient_name=e)},null,512),[[n.nr,o.patient_name]]),me,de,pe,_e,(0,r.wy)((0,r._)("input",{type:"text",name:"patient_id","onUpdate:modelValue":t[1]||(t[1]=e=>o.patient_id=e)},null,512),[[n.nr,o.patient_id]]),he,ve,ye,be,(0,r.wy)((0,r._)("textarea",{name:"observations",cols:"30",rows:"10","onUpdate:modelValue":t[2]||(t[2]=e=>o.observations=e)},null,512),[[n.nr,o.observations]]),we,fe,ge,Se,(0,r.wy)((0,r._)("textarea",{name:"health_status",cols:"30",rows:"10","onUpdate:modelValue":t[3]||(t[3]=e=>o.health_status=e)},null,512),[[n.nr,o.health_status]]),He,Ie,ke,Ue,Ve],32)])])}var xe={name:"DoctorView",components:{GetEntriesForm:te},data(){return{entries:[],patient_id:"123456789",patient_name:"my username",observations:"this are some observations",health_status:"this is a health status. Can be positive or negative or may have details."}},methods:{async submit(){const e={patient_id:this.patient_id,patient_name:this.patient_name,observations:this.observations,health_status:this.health_status,mycc:localStorage.getItem("Health_care_cc_rut"),myname:localStorage.getItem("Health_care_username"),mysession:localStorage.getItem("Health_care_session_key"),myrole:localStorage.getItem("Health_care_role")},t=await fetch("/newEntry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();alert(a.msg)}}};const Oe=(0,o.Z)(xe,[["render",je],["__scopeId","data-v-20a0ab0a"]]);var Ce=Oe;const De=e=>((0,r.dD)("data-v-22c5d57a"),e=e(),(0,r.Cn)(),e),Te={class:"masterContainer"},Ee={class:"new_doctor"},Pe=De((()=>(0,r._)("label",{for:"username"},"Username: ",-1))),qe=De((()=>(0,r._)("br",null,null,-1))),Ge=De((()=>(0,r._)("label",{for:"cc_nit"},"DNI or RUT: ",-1))),Ne=De((()=>(0,r._)("br",null,null,-1))),Fe=De((()=>(0,r._)("label",{for:"email"},"Email: ",-1))),Ae=De((()=>(0,r._)("br",null,null,-1))),Ze=De((()=>(0,r._)("label",{for:"tel"},"Tel: ",-1))),Me=De((()=>(0,r._)("br",null,null,-1))),Je=De((()=>(0,r._)("label",{for:"address"},"Address: ",-1))),Re=De((()=>(0,r._)("hr",null,null,-1))),We=De((()=>(0,r._)("br",null,null,-1))),$e={class:"doctor_extra"},ze=De((()=>(0,r._)("span",null,"Specialization: ",-1))),Le=De((()=>(0,r._)("label",{for:"internist"},"Internist ",-1))),Ye=De((()=>(0,r._)("label",{for:"cardiologist"},"Cardiologist ",-1))),Be=De((()=>(0,r._)("label",{for:"optometra"},"Optometra ",-1))),Ke=De((()=>(0,r._)("label",{for:"pediatrician"},"Pediatrician ",-1))),Qe=De((()=>(0,r._)("br",null,null,-1))),Xe=De((()=>(0,r._)("input",{type:"submit",value:"Send!"},null,-1))),et=De((()=>(0,r._)("br",null,null,-1)));function tt(e,t,a,l,o,s){const i=(0,r.up)("GetEntriesForm");return(0,r.wg)(),(0,r.iD)("div",Te,[(0,r.Wm)(i),(0,r._)("div",Ee,[(0,r._)("form",{onSubmit:t[9]||(t[9]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[Pe,(0,r.wy)((0,r._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:""},null,512),[[n.nr,o.username]]),qe,Ge,(0,r.wy)((0,r._)("input",{type:"text",name:"cc_rut","onUpdate:modelValue":t[1]||(t[1]=e=>o.cc_rut=e),required:""},null,512),[[n.nr,o.cc_rut]]),Ne,Fe,(0,r.wy)((0,r._)("input",{type:"text",name:"email","onUpdate:modelValue":t[2]||(t[2]=e=>o.email=e),required:""},null,512),[[n.nr,o.email]]),Ae,Ze,(0,r.wy)((0,r._)("input",{type:"text",name:"tel","onUpdate:modelValue":t[3]||(t[3]=e=>o.tel=e),required:""},null,512),[[n.nr,o.tel]]),Me,Je,(0,r.wy)((0,r._)("input",{type:"text",name:"address","onUpdate:modelValue":t[4]||(t[4]=e=>o.address=e),required:""},null,512),[[n.nr,o.address]]),Re,We,(0,r._)("div",$e,[ze,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"internist","onUpdate:modelValue":t[5]||(t[5]=e=>o.services=e),checked:""},null,512),[[n.G2,o.services]]),Le,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"cardiologist","onUpdate:modelValue":t[6]||(t[6]=e=>o.services=e)},null,512),[[n.G2,o.services]]),Ye,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"optometra","onUpdate:modelValue":t[7]||(t[7]=e=>o.services=e)},null,512),[[n.G2,o.services]]),Be,(0,r.wy)((0,r._)("input",{type:"radio",name:"services",value:"pediatrician","onUpdate:modelValue":t[8]||(t[8]=e=>o.services=e)},null,512),[[n.G2,o.services]]),Ke]),Qe,Xe],32),et,(0,r.wy)((0,r._)("span",null,[(0,r.Uk)("Default password: "),(0,r._)("strong",null,(0,Y.zw)(o.password),1)],512),[[n.F8,""!=o.password]])])])}var at={name:"HospitalHome",components:{GetEntriesForm:te},data(){return{username:"my doctor",cc_rut:"12365478932",email:"some@example.com",tel:"3114567890",address:"doctor address",services:"internist",password:""}},methods:{async submit(){const e={username:this.username,cc:this.cc_rut,email:this.email,tel:this.tel,address:this.address,speciality:this.services,myname:localStorage.getItem("Health_care_username"),mycc:localStorage.getItem("Health_care_cc_rut"),myrole:localStorage.getItem("Health_care_role"),mysession:localStorage.getItem("Health_care_session_key")},t=await fetch("/newDoctor",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=t.status,n=await t.json();200==a?this.password=n.password:alert(n.msg)}}};const nt=(0,o.Z)(at,[["render",tt],["__scopeId","data-v-22c5d57a"]]);var rt=nt;const lt={class:"navbar"};function ot(e,t,a,n,l,o){const s=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("nav",lt,[(0,r.Wm)(s,{to:"/login",onClick:o.logout},{default:(0,r.w5)((()=>[(0,r.Uk)("Logout")])),_:1},8,["onClick"])])}var st={name:"Navbar",methods:{async logout(){const e={mycc:localStorage.getItem("Health_care_cc_rut"),mysession:localStorage.getItem("Health_care_session_key"),myrole:localStorage.getItem("Health_care_role")},t=await fetch("/logout",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=t.status;if(200==a)localStorage.removeItem("Health_care_cc_rut"),localStorage.removeItem("Health_care_session_key"),localStorage.removeItem("Health_care_role"),localStorage.removeItem("Health_care_username");else{const e=await t.json();alert(e.msg)}}}};const it=(0,o.Z)(st,[["render",ot],["__scopeId","data-v-3378fc26"]]);var ut=it,ct={name:"HomeView",components:{PatientHome:re,DoctorHome:Ce,HospitalHome:rt,Navbar:ut},data(){return{home_role:""}},mounted(){this.home_role=localStorage.getItem("Health_care_role"),console.log(this.home_role)}};const mt=(0,o.Z)(ct,[["render",$]]);var dt=mt;const pt={class:"masterContainer"},_t=(0,r._)("label",{for:"cc_nit"},"DNI or RUT: ",-1),ht=(0,r._)("br",null,null,-1),vt=(0,r._)("label",{for:"password"},"Password: ",-1),yt=(0,r._)("br",null,null,-1),bt=(0,r._)("input",{type:"submit",value:"Send!"},null,-1);function wt(e,t,a,l,o,s){return(0,r.wg)(),(0,r.iD)("div",pt,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[_t,(0,r.wy)((0,r._)("input",{type:"text",name:"cc_rut","onUpdate:modelValue":t[0]||(t[0]=e=>o.cc_rut=e),required:""},null,512),[[n.nr,o.cc_rut]]),ht,vt,(0,r.wy)((0,r._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[n.nr,o.password]]),yt,bt],32)])}var ft={name:"LoginView",data(){return{cc_rut:"12365478932",password:"g1313AiJ6N"}},methods:{async submit(){const e=this.cc_rut,t=this.password,a=await fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({cc:e,password:t})}),n=a.status,r=await a.json();200==n?(localStorage.setItem("Health_care_role",r.role),localStorage.setItem("Health_care_session_key",r.session),localStorage.setItem("Health_care_username",r.username),localStorage.setItem("Health_care_cc_rut",e),this.$router.push({path:"/"})):alert(r.msg)}}};const gt=(0,o.Z)(ft,[["render",wt]]);var St=gt;const Ht=[{path:"/register",name:"register",component:R},{path:"/",name:"home",component:dt},{path:"/login",name:"login",component:St}],It=(0,c.p7)({history:(0,c.PO)(),routes:Ht});var kt=It,Ut=a(65),Vt=(0,Ut.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(u).use(Vt).use(kt).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,l){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],l=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,l,o=n[0],s=n[1],i=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)l=o[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},n=self["webpackChunkapp"]=self["webpackChunkapp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(9391)}));n=a.O(n)})();
//# sourceMappingURL=app.c65a9d32.js.map